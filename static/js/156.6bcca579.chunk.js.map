{"version":3,"file":"static/js/156.6bcca579.chunk.js","mappings":"mLAAaA,EAAS,kBAAM,sCAAN,C,qECETC,E,OAAeC,GAAAA,IAAH,yE,wLCCZC,EAAaD,EAAAA,GAAAA,GAAH,6CAGVE,GAAaF,EAAAA,EAAAA,IAAOG,EAAAA,GAAPH,CAAH,qEAIVI,EAAWJ,EAAAA,GAAAA,GAAH,+C,SCoDrB,EArDiB,WACf,OAAsCK,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,MAqBjB,OAnBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,2FAChBN,GAAa,GADG,kBAGeO,EAAAA,EAAAA,cAHf,WAGRC,EAHQ,QAKMC,OALN,sBAMN,IAAIC,MAAM,SANJ,OAQdZ,EAAeU,GARD,kDAUdN,EAAS,KAAMS,SAVD,yBAYdX,GAAa,GAZC,6EAAH,qDAefM,GACD,GAAE,KAGD,gCACGP,IACC,SAAC,IAAD,WACE,SAACV,EAAA,EAAD,MAGHY,IAAS,8EACPJ,EAAYY,SACb,iCACE,SAACd,EAAD,8BACA,SAACH,EAAD,UACGK,EAAYe,KAAI,SAAAC,GAAK,eACpB,yBACE,SAACpB,EAAD,CACEqB,GAAE,kBAAaD,EAAME,IACrBC,MAAO,CAAEC,KAAMd,GAFjB,6BAIGU,EAAMK,qBAJT,QAI0BL,EAAMM,aAJhC,QAIyCN,EAAMO,QALxCP,EAAME,GADK,WAejC,C,4FC5DKM,EAAM,mCAECd,EAAY,CACjBe,YADiB,WACF,OAAD,qHACKC,EAAAA,GAAAA,IAAA,gEACoCF,IAFzC,cACZG,EADY,gBAILA,EAASC,KAAKC,QAJT,oFAKnB,EACKC,eAPiB,SAOFC,GAAU,OAAD,qHACLL,EAAAA,GAAAA,IAAA,6CACiBK,EADjB,oBACoCP,EADpC,oBADK,cACtBG,EADsB,gBAIfA,EAASC,KAJM,oFAK7B,EACKI,mBAbiB,SAaEC,GAAc,OAAD,qHACbP,EAAAA,GAAAA,IAAA,4DACgCF,EADhC,iCAC4DS,EAD5D,gCADa,cAC9BN,EAD8B,gBAIvBA,EAASC,KAAKC,QAJS,oFAKrC,EACKK,eAnBiB,SAmBFH,GAAU,OAAD,qHACLL,EAAAA,GAAAA,IAAA,6CACiBK,EADjB,4BAC4CP,EAD5C,oBADK,cACtBG,EADsB,gBAIfA,EAASC,KAJM,oFAK7B,EACKO,kBAzBiB,SAyBCJ,GAAU,OAAD,qHACRL,EAAAA,GAAAA,IAAA,6CACiBK,EADjB,4BAC4CP,EAD5C,2BADQ,cACzBG,EADyB,gBAIlBA,EAASC,KAJS,oFAKhC,E","sources":["components/Loader/Loader.jsx","components/Loader/loader.styled.js","pages/HomePage/HomePage.styled.js","pages/HomePage/HomePage.jsx","servies/MoviesApi.js"],"sourcesContent":["export const Loader = () => <p>Loading ...</p>;\n","import styled from 'styled-components';\n\nexport const UpdateLoader = styled.div`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n`;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const MoviesList = styled.ul`\n  list-style: none;\n`;\nexport const MovieTitle = styled(Link)`\n  color: #ff0bef;\n  text-decoration: none;\n`;\nexport const Headline = styled.h2`\n  text-align: center;\n`;\n","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { MoviesAPI } from 'servies/MoviesApi';\nimport { Loader } from 'components/Loader/Loader';\nimport { UpdateLoader } from 'components/Loader/loader.styled';\n\nimport { Headline, MoviesList, MovieTitle } from './HomePage.styled';\n\nconst HomePage = () => {\n  const [trendMovies, setTrendMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const location = useLocation();\n\n  useEffect(() => {\n    const getMovies = async () => {\n      setIsLoading(true);\n      try {\n        const moviesResponse = await MoviesAPI.fetchMovies();\n\n        if (!moviesResponse.length) {\n          throw new Error('Oops!');\n        }\n        setTrendMovies(moviesResponse);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getMovies();\n  }, []);\n\n  return (\n    <>\n      {isLoading && (\n        <UpdateLoader>\n          <Loader />\n        </UpdateLoader>\n      )}\n      {error && <p>Sorry,we can't show you the most popular movies.</p>}\n      {!!trendMovies.length && (\n        <>\n          <Headline>Trending today</Headline>\n          <MoviesList>\n            {trendMovies.map(movie => (\n              <li key={movie.id}>\n                <MovieTitle\n                  to={`/movies/${movie.id}`}\n                  state={{ from: location }}\n                >\n                  {movie.original_name ?? movie.title ?? movie.name}\n                </MovieTitle>\n              </li>\n            ))}\n          </MoviesList>\n        </>\n      )}\n    </>\n  );\n};\nexport default HomePage;\n","import axios from 'axios';\nconst KEY = 'aaa1d6367cdda8ac8cbbbe618a1aa87a';\n\nexport const MoviesAPI = {\n  async fetchMovies() {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/trending/all/day?api_key=${KEY}`\n    );\n    return await response.data.results;\n  },\n  async fetchMovieById(movieId) {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${movieId}?api_key=${KEY}&language=en-US`\n    );\n    return await response.data;\n  },\n  async fetchMovieBySearch(searchTitle) {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&language=en-US&query=${searchTitle}&page=1&include_adult=false`\n    );\n    return await response.data.results;\n  },\n  async fetchMovieCast(movieId) {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${KEY}&language=en-US`\n    );\n    return await response.data;\n  },\n  async fetchMovieReviews(movieId) {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${KEY}&language=en-US&page=1`\n    );\n    return await response.data;\n  },\n};\n"],"names":["Loader","UpdateLoader","styled","MoviesList","MovieTitle","Link","Headline","useState","trendMovies","setTrendMovies","isLoading","setIsLoading","error","setError","location","useLocation","useEffect","getMovies","MoviesAPI","moviesResponse","length","Error","message","map","movie","to","id","state","from","original_name","title","name","KEY","fetchMovies","axios","response","data","results","fetchMovieById","movieId","fetchMovieBySearch","searchTitle","fetchMovieCast","fetchMovieReviews"],"sourceRoot":""}